<style>
    .grid-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 16px;
        padding: 16px;
    }
    .card {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 16px;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        background: #fff;
    }
    .card-title {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 18px;
        margin-bottom: 12px;
    }
    .edit-icon {
        text-decoration: none;
        color: #007bff;
        font-size: 18px;
    }
    .cancel-btn {
        background-color: #ff4d4d;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 4px;
        cursor: pointer;
    }
    .cancel-btn:hover {
        background-color: #cc0000;
    }
    .footer {
        text-align: center;
        margin-top: 20px;
        padding: 10px;
        background: #f8f9fa;
        position: fixed;
        bottom: 0;
        width: 100%;
        left: 0;
    }
    .dropdown {
        position: relative;
        display: inline-block;
    }
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
        z-index: 1;
        bottom: 100%; /* Hace que se despliegue hacia arriba */
        transform: translateY(-5px); /* Ajuste de margen para mejor visibilidad */
    }
    .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }
    .dropdown-content a:hover {
        background-color: #f1f1f1;
    }
    .dropdown-btn {
        background-color: #007bff;
        color: white;
        padding: 10px;
        border: none;
        cursor: pointer;
        border-radius: 4px;
    }
    .dropdown-btn:hover {
        background-color: #0056b3;
    }
</style>

<div class="grid-container">
    {{#each tareas}}
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">
                    {{idTarea}} <a href="/tareas/edit/{{_id}}" class="edit-icon">✎</a>
                </h4>
                <form action="/tareas/delete/{{_id}}?_method=DELETE" method="POST">
                    <button type="submit" class="cancel-btn">Eliminar</button>
                </form>
            </div>
        </div>
    {{/each}}
</div>

<footer class="footer">
    <div class="dropdown">
        <button class="dropdown-btn" onclick="toggleDropdown()">Opciones de desarrollo</button>
        <div class="dropdown-content" id="dropdownMenu">
            <a href="/tareas/add">Escanear Ticket</a>
            <a href="/tareas">login</a>
            <a href="/ruta3">Ruta 3</a>
        </div>
    </div>
</footer>

<script>
    function toggleDropdown() {
        var dropdown = document.getElementById("dropdownMenu");
        if (dropdown.style.display === "block") {
            dropdown.style.display = "none";
        } else {
            dropdown.style.display = "block";
        }
    }
    
    // Cerrar el menú si se hace clic fuera de él
    window.onclick = function(event) {
        if (!event.target.matches('.dropdown-btn')) {
            var dropdowns = document.getElementsByClassName("dropdown-content");
            for (var i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.style.display === "block") {
                    openDropdown.style.display = "none";
                }
            }
        }
    }
</script>